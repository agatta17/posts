{"version":3,"sources":["webpack:///./src/components/Pagination.vue?4149","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?0ab9","webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?e835"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","isPageFirstActive","on","$event","preventDefault","goPage","page","_v","_e","_l","pageIndex","i","key","_s","pagesTotal","isPageLastActive","staticRenderFns","name","computed","$store","state","posts","postCount","limit","getters","pagesRange","max","current","min","pages","range_min","range_max","length","count","page_left","page_right","methods","n","commit","dispatch","component"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,IAAI,CAACE,YAAY,mBAAmBC,MAAM,CAAC,yBAA4BP,EAAIQ,mBAAmBC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,OAAOZ,EAAIa,KAAO,MAAM,CAACT,EAAG,MAAM,CAACE,YAAY,+CAA+CF,EAAG,IAAI,CAACE,YAAY,mBAAmBC,MAAM,CAAE,6BAA8BP,EAAIQ,mBAAoBC,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,OAAO,MAAM,CAACZ,EAAIc,GAAG,SAAUd,EAAIa,KAAO,EAAI,EAAGT,EAAG,IAAI,CAACE,YAAY,0CAA0C,CAACN,EAAIc,GAAG,WAAWd,EAAIe,KAAKf,EAAIgB,GAAIhB,EAAc,YAAE,SAASiB,EAAUC,GAAG,OAAOd,EAAG,IAAI,CAACe,IAAID,EAAEZ,YAAY,mBAAmBC,MAAM,CAAE,6BAA8BU,IAAcjB,EAAIa,MAAOJ,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,OAAOK,MAAc,CAACjB,EAAIc,GAAG,IAAId,EAAIoB,GAAGH,GAAW,UAAUjB,EAAIa,KAAO,EAAIb,EAAIqB,WAAYjB,EAAG,IAAI,CAACE,YAAY,0CAA0C,CAACN,EAAIc,GAAG,WAAWd,EAAIe,KAAKX,EAAG,IAAI,CAACE,YAAY,mBAAmBC,MAAM,CAAE,6BAA8BP,EAAIsB,kBAAmBb,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,OAAOZ,EAAIqB,eAAe,CAACrB,EAAIc,GAAG,IAAId,EAAIoB,GAAGpB,EAAIqB,YAAY,OAAOjB,EAAG,IAAI,CAACE,YAAY,mBAAmBC,MAAM,CAAC,yBAA4BP,EAAIsB,kBAAkBb,GAAG,CAAC,MAAQ,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBX,EAAIY,OAAOZ,EAAIa,KAAO,MAAM,CAACT,EAAG,MAAM,CAACE,YAAY,iDAAiD,IAC/iDiB,EAAkB,GCyDP,GACbC,KAAMA,aACNC,SAAUA,CACRjB,kBADJ,WAEM,OAAqB,IAAdP,KAAKY,MAEdS,iBAJJ,WAKM,OAAOrB,KAAKY,OAASZ,KAAKoB,YAE5BR,KAPJ,WAQM,OAAOZ,KAAKyB,OAAOC,MAAMC,MAAMf,MAEjCgB,UAVJ,WAWM,OAAO5B,KAAKyB,OAAOC,MAAMC,MAAMC,WAEjCC,MAbJ,WAcM,OAAO7B,KAAKyB,OAAOC,MAAMC,MAAME,OAEjCT,WAhBJ,WAiBM,OAAOpB,KAAKyB,OAAOK,QAAQV,YAE7BW,WAnBJ,WAqBM,IAAN,IAEA,kBAEA,YAEA,IAEM,GAAY,IAARC,GAAqB,IAARA,IAAcA,EAAK,MAAO,GAE3C,IAAN,MACA,MAEA,KAEM,GAAIC,IAAYC,EACd,IAAK,IAAb,qBACUC,EAAMA,KAAKA,EAAUA,EAAIA,GAI7B,GAAIF,IAAYD,EAAK,CACnB,IACR,QACAf,aACAA,IAEUkB,EAAMA,KAAKA,GAAWA,EAAUA,IAElCA,EAAQA,EAAMA,UAGhB,GAAIF,EAAUC,GAAOD,EAAUD,IAEzBC,EAAU,GAAKG,GACjBD,EAAMA,KAAKA,EAAUA,GAGnBF,GAAWG,GAAaH,GAAWI,GACrCF,EAAMA,KAAKA,GAGTF,EAAU,GAAKI,GACjBF,EAAMA,KAAKA,EAAUA,GAGnBA,EAAMG,OAASC,GAAO,CACxB,IAAV,SACA,kBAEcC,GAAaJ,GACfD,EAAMA,QAAQA,GAEZM,GAAcJ,GAChBF,EAAMA,KAAKA,GAIjB,OAAOA,IAGXO,QAASA,CACP/B,OADJ,SACAgC,GACM3C,KAAKyB,OAAOmB,OAAO,aAAcD,GACjC3C,KAAKyB,OAAOoB,SAAS,iBCjJyT,I,wBCQhVC,EAAY,eACd,EACAhD,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAwB,E,sECnBf","file":"js/chunk-2a0e5f90.e7dd5156.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagination\"},[_c('a',{staticClass:\"pagination__item\",class:{'pagination__item_disable': _vm.isPageFirstActive},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(_vm.page - 1)}}},[_c('div',{staticClass:\"pagination__arrow pagination__arrow_left\"})]),_c('a',{staticClass:\"pagination__item\",class:{ 'pagination__item_is-active': _vm.isPageFirstActive },on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(1)}}},[_vm._v(\" 1 \")]),(_vm.page - 2 > 0)?_c('a',{staticClass:\"pagination__item pagination__item_dots\"},[_vm._v(\" ... \")]):_vm._e(),_vm._l((_vm.pagesRange),function(pageIndex,i){return _c('a',{key:i,staticClass:\"pagination__item\",class:{ 'pagination__item_is-active': pageIndex === _vm.page },on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(pageIndex)}}},[_vm._v(\" \"+_vm._s(pageIndex)+\" \")])}),(_vm.page + 2 < _vm.pagesTotal)?_c('a',{staticClass:\"pagination__item pagination__item_dots\"},[_vm._v(\" ... \")]):_vm._e(),_c('a',{staticClass:\"pagination__item\",class:{ 'pagination__item_is-active': _vm.isPageLastActive },on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(_vm.pagesTotal)}}},[_vm._v(\" \"+_vm._s(_vm.pagesTotal)+\" \")]),_c('a',{staticClass:\"pagination__item\",class:{'pagination__item_disable': _vm.isPageLastActive},on:{\"click\":function($event){$event.preventDefault();return _vm.goPage(_vm.page + 1)}}},[_c('div',{staticClass:\"pagination__arrow pagination__arrow_right\"})])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pagination\">\n    <!-- стрелка назад -->\n    <a\n      @click.prevent=\"goPage(page - 1)\"\n      class=\"pagination__item\"\n      :class=\"{'pagination__item_disable': isPageFirstActive}\"\n    >\n      <div class=\"pagination__arrow pagination__arrow_left\"></div>\n    </a>\n    <!-- первая страница -->\n    <a\n      @click.prevent=\"goPage(1)\"\n      class=\"pagination__item\"\n      :class=\"{ 'pagination__item_is-active': isPageFirstActive }\"\n    >\n      1\n    </a>\n    <!-- три точки -->\n    <a v-if=\"page - 2 > 0\" class=\"pagination__item pagination__item_dots\">\n      ...\n    </a>\n    <a\n      @click.prevent=\"goPage(pageIndex)\"\n      v-for=\"(pageIndex, i) in pagesRange\"\n      :key=\"i\"\n      class=\"pagination__item\"\n      :class=\"{ 'pagination__item_is-active': pageIndex === page }\"\n    >\n      {{ pageIndex }}\n    </a>\n    <!-- три точки -->\n    <a\n      v-if=\"page + 2 < pagesTotal\"\n      class=\"pagination__item pagination__item_dots\"\n    >\n      ...\n    </a>\n    <!-- последняя страница -->\n    <a\n      @click.prevent=\"goPage(pagesTotal)\"\n      class=\"pagination__item\"\n      :class=\"{ 'pagination__item_is-active': isPageLastActive }\"\n    >\n      {{ pagesTotal }}\n    </a>\n    <!-- стрелка вперед -->\n    <a\n      @click.prevent=\"goPage(page + 1)\"\n      class=\"pagination__item\"\n      :class=\"{'pagination__item_disable': isPageLastActive}\"\n    >\n      <div class=\"pagination__arrow pagination__arrow_right\"></div>\n    </a>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Pagination\",\n  computed: {\n    isPageFirstActive() {\n      return this.page === 1;\n    },\n    isPageLastActive() {\n      return this.page === this.pagesTotal;\n    },\n    page() {\n      return this.$store.state.posts.page;\n    },\n    postCount() {\n      return this.$store.state.posts.postCount;\n    },\n    limit() {\n      return this.$store.state.posts.limit;\n    },\n    pagesTotal() {\n      return this.$store.getters.pagesTotal;\n    },\n    pagesRange() {\n      /** Минимальное число страниц */\n      const min = 1;\n      /** Максимальное число страниц */\n      const max = this.pagesTotal;\n      /** Текущая страница */\n      const current = this.page;\n      /** Максимальное число отображаемых страниц не включая первую и последнюю */\n      const count = 3;\n      /** Если 0 или 0...1 */\n      if (max === 0 || max === 1 || !max) return [];\n      /** Диапазон возможных отображаемых страниц от-до не включая первую и последнюю */\n      const range_min = min + 1;\n      const range_max = max - 1;\n      /**Если 0...2 и больше */\n      let pages = [];\n      /** Если текущая страница равна первой */\n      if (current === min) {\n        for (let i = range_min; i <= count + 1 && i <= range_max; i++) {\n          pages.push(current + i - 1);\n        }\n      }\n      /** Если текущая страница равна максимуму (последней) */\n      if (current === max) {\n        for (\n          let i = range_max;\n          i >= max - count && i >= range_min;\n          i--\n        ) {\n          pages.push(current - (current - i));\n        }\n        pages = pages.reverse();\n      }\n      /** Если текущая страница лежит в пределе от минимума до максимума */\n      if (current > min && current < max) {\n        /** Пытаемся добавить страницу слева */\n        if (current - 1 >= range_min) {\n          pages.push(current - 1);\n        }\n        /** Пытаемся текущую страницу */\n        if (current >= range_min && current <= range_max) {\n          pages.push(current);\n        }\n        /** Пытаемся добавить страницу справа */\n        if (current + 1 <= range_max) {\n          pages.push(current + 1);\n        }\n        /** Если число добавленных страниц меньше максимально показываемых - добавляем слева или справа*/\n        if (pages.length < count) {\n          const page_left = pages[0] - 1;\n          const page_right = pages[pages.length - 1] + 1;\n\n          if (page_left >= range_min) {\n            pages.unshift(page_left);\n          }\n          if (page_right <= range_max) {\n            pages.push(page_right);\n          }\n        }\n      }\n      return pages;\n    },\n  },\n  methods: {\n    goPage(n) {\n      this.$store.commit('updatePage', n);\n      this.$store.dispatch('fetchPosts');\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\">\n.pagination {\n  display: flex;\n  align-items: center;\n\n  &__item {\n    width: 32px;\n    height: 32px;\n    border: 1px solid #E2E2E2;\n    box-sizing: border-box;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 700;\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin-right: 8px;\n\n    &:last-of-type {\n      margin-right: 0;\n    }\n\n    &_disable {\n      pointer-events: none;\n    }\n\n    &_is-active {\n      color: #FF008A;\n      border-color: #FF008A;\n    }\n\n    &_dots {\n      cursor: text;\n    }\n  }\n\n  &__arrow {\n    width: 7px;\n    height: 7px;\n    border-top: 2px solid #E2E2E2;\n    border-right: 2px solid #E2E2E2;\n\n      &_right {\n        transform: rotate(45deg);\n        margin-right: 4px;\n      }\n\n      &_left {\n        transform: rotate(-135deg);\n        margin-left: 4px;\n      }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=5e8a8b4c&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Pagination.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}